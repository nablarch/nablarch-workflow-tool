language: java
branches:
  only:
  - master
  - develop
install: true
jdk:
- oraclejdk8
cache:
  directories:
  - $HOME/.m2
script:
- git clone -b master https://github.com/nablarch/nablarch-ci-script.git $HOME/build-script/
  && chmod +x $HOME/build-script/travis-ci/*.sh
- $HOME/build-script/travis-ci/setup-oracle-jdk6.sh
- $HOME/build-script/travis-ci/prepare_travis_settings.sh
- $HOME/build-script/travis-ci/build-nablarch.sh -m deploy -p ci,dev-deploy
- $HOME/build-script/travis-ci/upload-test-report.sh -p dev-deploy
notifications:
  slack:
    secure: Jq2z28KOSKr/WceKOFl8U/5aW6KTCF4j86WvY51NkQoJBvK0tAuQJ+QcDR3k8SpzR3A80Jjq9wJ+KZLszBnj2nxxkvO++xfoUvYcveIHAyUm804ALojKmDlnndep92mcyjYMDuMVOHUISIlfS1DCYJZIKbdG2wA7r/VkCSSK1LN5In15SwSqurKHczB8lG4yzJo1Px3Il1q1uRYA9KWwtfVqTDP6UXP3U9DOiYLq9ddDxYe/XHfIXR1lW22EcfsyNTdC4RqnGub/yTNQ18LKBi7aGzq2X9AQ5ZxqMwBzj/mVhoAIVvcH1EzKjzVyxMRFmxezHVdDMmFqAAWKJsFQ8o0ePdxK047GJpgbhsdfFXBv/oNbW/FsDOE9kETedbaAi5gBlRxncW+nrTxgx91MZl83ivYYWnLgNbbrAeXOx9paX3VzZGwZ8qGldssbgzmRvIPBXlBRun52GjlthICsBhJkWwrif6lUcBXbVY+GE8SGrclMjAljoGD9WB/MOuQ49N+3cGsbVYtLDm3JPak1NPE7KI8kTha+S3moQR6fl3HQy38cv9pDL4KmNXHEuADeoSHjvFYpXQg2ql4Grz2QzMGyiF0F8I+3PkY3gruUmoikcFDwZ2qdFdCRxKl1CDWUrRih1tos5x4cBRX4CotCLzB2KGN0EbnKMsKQ2nVj+1Q=
